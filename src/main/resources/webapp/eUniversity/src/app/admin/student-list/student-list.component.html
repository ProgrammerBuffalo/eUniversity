<div class="admin-block">
  <div class="admin-block__header">
    <h3 class="admin-block__title">Students list</h3>
    <div class="btn btn-danger add-btn" (click)="showAddModal()">Add</div>
  </div>

  <div class="admin-block__content">
    <div class="table-container">
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>ID</th>
            <th>Full name</th>
            <th>Login</th>
            <th>Age</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let item of students">
            <th>{{item.id}}</th>
            <td>{{item.fullName}}</td>
            <td>{{item.login}}</td>
            <td>{{item.age}}</td>
            <td>
              <div class="table-btn change-btn" (click)="showEditModal(item)">
                <i class="fas fa-pencil-alt"></i>
              </div>
            </td>
            <td>
              <div class="table-btn" (click)="removeStudent(item.id)">
                <i class="fas fa-times"></i>
              </div>
            </td>
          </tr>
        </tbody>

      </table>
    </div>
  </div>
</div>

<div class="modal" *ngIf="showAddPopup">
  <div class="modal-content" style="width: 500px">
    <span class="close" (click)="closeAddModal()">&times;</span>
    <form class="register" [formGroup]="addForm">
      <div class="form-group">
        <span>Login: </span>
        <input type="text" class="form-field" placeholder="Login" formControlName="login">
        <small class="text-danger" *ngIf="addLogin?.invalid && (addLogin?.touched || addLogin?.dirty)">login is
          required</small>
      </div>

      <div class="form-group">
        <span>Password: </span>
        <input type="text" class="form-field" placeholder="Password" formControlName="password">
        <small class="text-danger" *ngIf="addPassword?.invalid && (addPassword?.touched || addPassword?.dirty)">password
          is
          required</small>
      </div>

      <div class="form-group">
        <span>Full name: </span>
        <input type="text" class="form-field" placeholder="Full name" formControlName="fullName">
        <small class="text-danger" *ngIf="addFullName?.invalid && (addFullName?.touched || addFullName?.dirty)">full
          name
          is
          required</small>
      </div>

      <div class="form-group">
        <span>Age: </span>
        <input type="number" class="form-field" placeholder="Age" formControlName="age">
        <small class="text-danger" *ngIf="addAge?.invalid && (addAge?.touched || addAge?.dirty)">age is
          required</small>
      </div>
      <input type="submit" class="btn btn-danger" value="Add student" (click)="addStudent()">
    </form>
  </div>
</div>

<div class="modal" *ngIf="showEditPopup">
  <div class="modal-content" style="width: 500px">
    <span class="close" (click)="closeEditModal()">&times;</span>
    <form class="register" [formGroup]="editForm">
      <div class="form-group">
        <span>Login: </span>
        <input type="text" class="form-field" placeholder="Login" formControlName="login">
        <small class="text-danger" *ngIf="editLogin?.invalid && (editLogin?.touched || editLogin?.dirty)">login is
          required</small>
      </div>

      <div class="form-group">
        <span>Full name: </span>
        <input type="text" class="form-field" placeholder="Full name" formControlName="fullName">
        <small class="text-danger" *ngIf="editFullName?.invalid && (editFullName?.touched || editFullName?.dirty)">full
          name
          is
          required</small>
      </div>

      <div class="form-group">
        <span>Age: </span>
        <input type="number" class="form-field" placeholder="Age" formControlName="age">
        <small class="text-danger" *ngIf="editAge?.invalid && (editAge?.touched || editAge?.dirty)">age is
          required</small>
      </div>
      <input type="submit" class="btn btn-danger" value="Update student" (click)="updateStudent()">
    </form>
  </div>
</div>
